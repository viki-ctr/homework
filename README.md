# Проект "Личный кабинет клиента банка"

## Описание:

Проект "Личный кабинет клиента банка" - это веб-приложение на Python для обработки и упорядочивания данных о банковских картах, счетах и платежах. Проект разработан для удобства использования и защиты клиентских данных.

## Установка:

1. Клонируйте репозиторий:
```
git clone git@github.com:viki-ctr/homework.git
```
2. Установите зависимости:
```
pip install -r requirements.txt
```
## Использование:

1. Откройте приложение в вашем веб-браузере.
2. Создайте новую учетную запись или задите в уже существующую.
3. Выполняйте банковские операции со счетами/банковскими картами.
4. Просматривайте при надобности историю операций и сортируйте их в нужном вам порядке.

Функциональность:

1. Модуль masks. Функция get_mask_card_number принимает на вход номер карты и возвращает ее маску.
2. Модуль masks. Функция get_mask_account принимает на вход номер счета и возвращает его маску.
3. Модуль widget. Функция mask_account_card, которая умеет обрабатывать информацию как о картах, так и о счетах.
4. Модуль widget. Функция get_date, которая принимает на вход строку с датой в формате "2024-03-11T02:26:18.671407" и возвращает строку с датой в формате "ДД.ММ.ГГГГ" ("11.03.2024").
5. Модуль processing. Функция filter_by_state, которая принимает список словарей и опционально значение для ключа state (по умолчанию 
'EXECUTED'). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ state соответствует указанному значению.
6. Модуль processing. Функция sort_by_date, которая принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (date).
7. Модуль generators. Функция filter_by_currency, которая принимает на вход список словарей, представляющих транзакции. Функция должна возвращать итератор, который поочередно выдает транзакции, где валюта операции соответствует заданной (например, USD).
8. Модуль generators. Функция transaction_descriptions, который принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.
9. Модуль generators. Функция ard_number_generator, который выдает номера банковских карт в формате XXXX XXXX XXXX XXXX, где X — цифра номера карты. Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.
10. Модуль decorators. Декоратор log, который автоматически логирует начало и конец выполнения функции, а также ее результаты или возникшие ошибки. Декоратор принимает необязательный аргумент filename, который определяет, куда будут записываться логи (в файл или в консоль):
Если filename задан, логи записываются в указанный файл. Если filename не задан, логи выводятся в консоль. Логирование включает:
Имя функции и результат выполнения при успешной операции.
Имя функции, тип возникшей ошибки и входные параметры, если выполнение функции привело к ошибке.
11. Модуль utils. Функция, которая принимает на вход путь до JSON-файла и возвращает список словарей с данными о финансовых транзакциях. Если файл пустой, содержит не список или не найден, функция возвращает пустой список.
12. Файл с данными о финансовых транзациях operations.json добавлен в директорию data/ в корне проекта.
13. Модуль external_api. Функцию, которая принимает на вход транзакцию и возвращает сумму транзакции (amount) в рублях, тип данных — float. Если транзакция была в 
USD или EUR, происходит обращение к внешнему API для получения текущего курса валют и конвертации суммы операции в рубли.
14. Созданы логеры для перечисленных модулей: masks, utils.
15. Модуль reading_transactions. Реализованы функции для считывания финансовых операций из CSV- и XLSX-файлов.

## Тестирование:

Наш проект тестировался при помощи фреймворка Pytest. Чтобы запустить тестирование проекта, вам нужно:
1. Установить pytest
```
poetry add --group dev pytest
```
2. Запустите тесты:
```
pytest
```
3. Проверить покрытие тестами:
```
poetry add --group dev pytest-cov
```
poetry run pytest --cov
```
4. Чтобы сгенерировать отчет о покрытии в HTML-формате:
```
pytest --cov=src --cov-report=html
```

## Документация:

Для получения дополнительной информации обратитесь к [документации](docs/README.md).

## Команда проекта
* Виктория Андрушенко - backend developer при поддержке и невероятной помощи команды Skypro.

## Лицензия:

Этот проект лицензирован по [лицензии MIT](LICENSE).
